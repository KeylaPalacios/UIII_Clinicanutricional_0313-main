{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
    <h2 class="text-success">Actualizar Receta</h2>

    <form method="post" action="{% url 'realizar_actualizacion_receta' receta.id %}">
        {% csrf_token %}

        <!-- Paciente -->
        <div class="mb-3">
            <label class="form-label">Paciente</label>
            <select name="id_paciente" class="form-select" required>
                {% for paciente in pacientes %}
                <option value="{{ paciente.id }}" {% if paciente.id == receta.id_paciente.id %}selected{% endif %}>
                    {{ paciente.nombre }} {{ paciente.apellido }}
                </option>
                {% endfor %}
            </select>
        </div>

        <!-- Nutri贸logo -->
        <div class="mb-3">
            <label class="form-label">Nutri贸logo</label>
            <select name="id_nutriologo" class="form-select" required>
                {% for nutriologo in nutriologos %}
                <option value="{{ nutriologo.id }}" {% if nutriologo.id == receta.id_nutriologo.id %}selected{% endif %}>
                    {{ nutriologo.nombre }} {{ nutriologo.apellido }}
                </option>
                {% endfor %}
            </select>
        </div>

        <!-- Ingredientes -->
        <div class="mb-3">
            <label class="form-label">Ingredientes</label>
            <textarea name="ingredientes" class="form-control" rows="3">{{ receta.ingredientes }}</textarea>
        </div>

        <!-- Tipo de comida -->
        <div class="mb-3">
            <label class="form-label">Tipo de comida</label>
            <input type="text" name="tipocomida" class="form-control" value="{{ receta.tipocomida }}">
        </div>

        <!-- Medicamentos -->
        <div class="mb-3">
            <label class="form-label">Medicamentos</label>
            <input type="text" name="medicamentos" class="form-control" value="{{ receta.medicamentos }}">
        </div>

        <!-- Duraci贸n -->
        <div class="mb-3">
            <label class="form-label">Duraci贸n</label>
            <input type="text" name="duracion" class="form-control" value="{{ receta.duracion }}">
        </div>

        <!-- Alergias -->
        <div class="mb-3">
            <label class="form-label">Alergias</label>
            <input type="text" name="alergias" class="form-control" value="{{ receta.alergias }}">
        </div>

        <!-- Botones -->
        <button type="submit" class="btn btn-success">Guardar Cambios</button>
        <a href="{% url 'ver_recetas' %}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}
